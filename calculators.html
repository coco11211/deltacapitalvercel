<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Risk Calculator — Delta Capital</title>
  <meta name="description" content="Interactive risk/reward calculator for quantitative investing strategies.">
  <link rel="icon" type="image/svg+xml" href="/img/favicon.svg">
  <link rel="icon" type="image/x-icon" href="/img/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/img/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/img/apple-touch-icon-120x120.png">
  <link rel="manifest" href="/img/manifest.json">
  <meta name="theme-color" content="#111111">
  <link rel="canonical" href="https://deltacapitaltrading.com/calculators">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;1,300;1,400&family=JetBrains+Mono:wght@300;400&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="/css/style.css">
  <style>
    .risk-calculator {
      max-width: 900px;
      margin: 0 auto;
      padding: 8vh 8vw;
    }

    .risk-calculator h2 {
      margin-bottom: 3vh;
      text-align: center;
    }

    .calc-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4vh;
      margin-top: 4vh;
    }

    .calc-group {
      background: white;
      padding: 3vh;
      border: 1px solid var(--border);
      border-radius: 4px;
    }

    .calc-group h3 {
      margin-bottom: 2vh;
      font-size: 1.3rem;
    }

    .calc-input {
      margin-bottom: 2vh;
    }

    .calc-input label {
      display: block;
      font-size: 0.9rem;
      margin-bottom: 0.8vh;
      color: var(--fg-muted);
    }

    .calc-input input[type="number"],
    .calc-input input[type="range"] {
      width: 100%;
      padding: 10px;
      border: 1px solid var(--border);
      border-radius: 4px;
      font-family: var(--mono);
      font-size: 0.95rem;
      color: var(--fg);
      background: var(--bg);
    }

    .calc-input input[type="range"] {
      padding: 0;
      height: 6px;
      -webkit-appearance: none;
      background: var(--bg-dark);
    }

    .calc-input input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--fg);
      cursor: pointer;
      border: none;
    }

    .calc-input input[type="range"]::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--fg);
      cursor: pointer;
      border: none;
    }

    .calc-value {
      font-family: var(--mono);
      font-size: 0.85rem;
      color: var(--fg-muted);
      margin-top: 0.5vh;
    }

    .results-container {
      grid-column: 1 / -1;
      margin-top: 2vh;
    }

    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 3vh;
      margin-top: 2vh;
    }

    .metric-card {
      background: var(--fg);
      color: var(--bg);
      padding: 3vh;
      border-radius: 4px;
      text-align: center;
    }

    .metric-card .metric-label {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: rgba(250, 250, 250, 0.7);
      margin-bottom: 1vh;
    }

    .metric-card .metric-value {
      font-family: var(--mono);
      font-size: 2rem;
      font-weight: 400;
    }

    .metric-card .metric-unit {
      font-size: 1rem;
      color: rgba(250, 250, 250, 0.6);
    }

    .metric-card .metric-desc {
      font-size: 0.85rem;
      color: rgba(250, 250, 250, 0.5);
      margin-top: 1vh;
    }

    .risk-rating {
      margin-top: 3vh;
      padding: 2vh;
      border-radius: 4px;
      text-align: center;
    }

    .risk-rating.good {
      background: rgba(0, 128, 0, 0.1);
      color: #008000;
      border: 1px solid #008000;
    }

    .risk-rating.warning {
      background: rgba(255, 165, 0, 0.1);
      color: #ffa500;
      border: 1px solid #ffa500;
    }

    .risk-rating.danger {
      background: rgba(255, 0, 0, 0.1);
      color: #ff0000;
      border: 1px solid #ff0000;
    }

    .risk-rating h4 {
      font-size: 1.5rem;
      margin-bottom: 1vh;
    }

    .risk-rating p {
      font-size: 1rem;
      color: inherit;
      margin: 0;
    }

    @media (max-width: 768px) {
      .calc-grid {
        grid-template-columns: 1fr;
      }
      .results-container {
        grid-column: 1;
      }
      .metrics-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

  <div class="page-container">
    <nav>
      <div class="nav-inner">
        <a href="/" class="logo">Delta Capital</a>
        <a href="/calculators" class="active">Calculators</a>
        <a href="/glossary">Glossary</a>
        <a href="/screener">Screener</a>
      </div>
    </nav>

    <div class="risk-calculator">
      <h2>Risk & Reward Calculator</h2>
      <p style="text-align: center; margin-top: 1vh;">
        Interactive tool to evaluate risk-adjusted performance metrics
      </p>

      <div class="calc-grid">
        <!-- Input Group 1: Returns -->
        <div class="calc-group">
          <h3>Expected Returns</h3>

          <div class="calc-input">
            <label>Expected Annual Return (%)</label>
            <input type="range" id="expected-return" min="-50" max="100" value="15" step="0.5">
            <div class="calc-value"><span id="expected-return-value">15</span>%</div>
          </div>

          <div class="calc-input">
            <label>Maximum Drawdown (%)</label>
            <input type="range" id="max-drawdown" min="0" max="100" value="30" step="0.5">
            <div class="calc-value"><span id="max-drawdown-value">30</span>%</div>
          </div>

          <div class="calc-input">
            <label>Standard Deviation (%)</label>
            <input type="range" id="std-dev" min="5" max="100" value="20" step="0.5">
            <div class="calc-value"><span id="std-dev-value">20</span>%</div>
          </div>
        </div>

        <!-- Input Group 2: Risk-Free -->
        <div class="calc-group">
          <h3>Risk-Free Rate</h3>

          <div class="calc-input">
            <label>Risk-Free Rate (%)</label>
            <input type="range" id="risk-free" min="0" max="10" value="2" step="0.1">
            <div class="calc-value"><span id="risk-free-value">2</span>%</div>
          </div>

          <div class="calc-input">
            <label>Time Horizon (Years)</label>
            <input type="number" id="time-horizon" min="1" max="30" value="5" step="1">
          </div>

          <div class="calc-input">
            <label>Initial Capital ($)</label>
            <input type="number" id="initial-capital" min="1000" max="10000000" value="100000" step="1000">
          </div>

          <p style="font-size: 0.85rem; color: var(--fg-faint); margin-top: 2vh;">
            Adjust sliders to see how different scenarios affect risk-adjusted metrics.
          </p>
        </div>

        <!-- Results -->
        <div class="results-container">
          <h3>Performance Metrics</h3>

          <div class="metrics-grid">
            <div class="metric-card">
              <div class="metric-label">Sharpe Ratio</div>
              <div class="metric-value"><span id="sharpe">0.64</span></div>
              <div class="metric-unit">annual</div>
              <div class="metric-desc">Return / (Risk + Rate)</div>
            </div>

            <div class="metric-card">
              <div class="metric-label">Calmar Ratio</div>
              <div class="metric-value"><span id="calmar">0.50</span></div>
              <div class="metric-unit">annual</div>
              <div class="metric-desc">Return / Max Drawdown</div>
            </div>

            <div class="metric-card">
              <div class="metric-label">Expected Growth</div>
              <div class="metric-value"><span id="growth">1.0</span>x</div>
              <div class="metric-unit">5 years</div>
              <div class="metric-desc">Portfolio value</div>
            </div>

            <div class="metric-card">
              <div class="metric-label">Expected Value</div>
              <div class="metric-value"><span id="expected-value">0.0</span>%</div>
              <div class="metric-unit">per period</div>
              <div class="metric-desc">Mean outcome</div>
            </div>
          </div>

          <div class="risk-rating" id="risk-rating">
            <h4 id="risk-level">Moderate Risk</h4>
            <p id="risk-description">Balanced return profile with acceptable drawdown levels.</p>
          </div>

          <div style="margin-top: 3vh;">
            <button onclick="resetCalculator()" style="
              padding: 12px 24px;
              border: 1px solid var(--border);
              background: white;
              color: var(--fg);
              font-family: var(--mono);
              font-size: 0.85rem;
              text-transform: uppercase;
              letter-spacing: 0.1em;
              cursor: pointer;
              border-radius: 4px;
              transition: all 0.2s ease;
            ">
              Reset
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Get DOM elements
    const inputs = {
      expectedReturn: document.getElementById('expected-return'),
      maxDrawdown: document.getElementById('max-drawdown'),
      stdDev: document.getElementById('std-dev'),
      riskFree: document.getElementById('risk-free'),
      timeHorizon: document.getElementById('time-horizon'),
      initialCapital: document.getElementById('initial-capital')
    };

    const displays = {
      expectedReturn: document.getElementById('expected-return-value'),
      maxDrawdown: document.getElementById('max-drawdown-value'),
      stdDev: document.getElementById('std-dev-value'),
      riskFree: document.getElementById('risk-free-value')
    };

    const results = {
      sharpe: document.getElementById('sharpe'),
      calmar: document.getElementById('calmar'),
      growth: document.getElementById('growth'),
      expectedValue: document.getElementById('expected-value')
    };

    const riskRating = {
      level: document.getElementById('risk-level'),
      description: document.getElementById('risk-description'),
      container: document.getElementById('risk-rating')
    };

    // Format numbers
    function formatNumber(num, decimals = 2) {
      return num.toFixed(decimals);
    }

    // Calculate risk-adjusted metrics
    function calculate() {
      // Get values
      const expectedReturn = parseFloat(inputs.expectedReturn.value) / 100;
      const maxDrawdown = parseFloat(inputs.maxDrawdown.value) / 100;
      const stdDev = parseFloat(inputs.stdDev.value) / 100;
      const riskFree = parseFloat(inputs.riskFree.value) / 100;
      const timeHorizon = parseFloat(inputs.timeHorizon.value);
      const initialCapital = parseFloat(inputs.initialCapital.value);

      // Update display values
      displays.expectedReturn.textContent = inputs.expectedReturn.value;
      displays.maxDrawdown.textContent = inputs.maxDrawdown.value;
      displays.stdDev.textContent = inputs.stdDev.value;
      displays.riskFree.textContent = inputs.riskFree.value;

      // Calculate metrics
      const sharpe = expectedReturn > 0
        ? (expectedReturn - riskFree) / stdDev
        : -1; // Avoid negative Sharpe for diversification

      const calmar = maxDrawdown > 0
        ? expectedReturn / maxDrawdown
        : 0;

      const growthFactor = Math.pow(1 + expectedReturn, timeHorizon);
      const finalCapital = initialCapital * growthFactor;
      const returnOnInvestment = ((finalCapital - initialCapital) / initialCapital) * 100;

      const stdReturn = expectedReturn * stdDev; // Standard error

      // Update results
      results.sharpe.textContent = formatNumber(Math.max(0, sharpe), 2);
      results.calmar.textContent = formatNumber(Math.max(0, calmar), 2);
      results.growth.textContent = formatNumber(growthFactor, 2);
      results.expectedValue.textContent = formatNumber(returnOnInvestment, 1);

      // Update risk rating
      updateRiskRating(sharpe, calmar, maxDrawdown);
    }

    // Update risk rating
    function updateRiskRating(sharpe, calmar, maxDrawdown) {
      const returnRatio = parseFloat(inputs.expectedReturn.value) / Math.abs(maxDrawdown);
      const sharpeRatio = Math.abs(sharpe);

      // Determine risk level
      let level, description, className;

      if (returnRatio > 3 && sharpeRatio > 1.5 && maxDrawdown < 20) {
        level = 'Low Risk — Excellent';
        description = 'Strong risk-adjusted returns with minimal drawdown. Very efficient strategy.';
        className = 'good';
      } else if (returnRatio > 2 && sharpeRatio > 1.0 && maxDrawdown < 35) {
        level = 'Moderate Risk — Good';
        description = 'Balanced risk profile with competitive returns. Acceptable drawdowns.';
        className = 'warning';
      } else if (returnRatio > 1.5 || sharpeRatio > 0.8) {
        level = 'Elevated Risk — Fair';
        description = 'Above-average return potential but with significant drawdown exposure.';
        className = 'warning';
      } else {
        level = 'High Risk — Caution';
        description = 'Poor risk-adjusted profile. Consider optimization or diversification.';
        className = 'danger';
      }

      riskRating.level.textContent = level;
      riskRating.description.textContent = description;
      riskRating.container.className = 'risk-rating ' + className;
    }

    // Reset calculator
    function resetCalculator() {
      inputs.expectedReturn.value = 15;
      inputs.maxDrawdown.value = 30;
      inputs.stdDev.value = 20;
      inputs.riskFree.value = 2;
      inputs.timeHorizon.value = 5;
      inputs.initialCapital.value = 100000;
      calculate();
    }

    // Event listeners
    Object.values(inputs).forEach(input => {
      input.addEventListener('input', calculate);
    });

    // Initial calculation
    calculate();
  </script>
</body>
</html>